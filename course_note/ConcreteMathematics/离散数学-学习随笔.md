


## cardinality of Euclidean space

$|R|=|R^n|$


> e.g. $|{(0,1)}^2|=|(0,1)|$  
>  
> $$
> \begin{aligned}
> (a,b)=\left((0.\ a_{0}a_{1}\ldots\right)_{10},\ \left(0.\ b_{0}b_{1}\ldots)\right)_{10}&\to \left(0.\ a_{0}b_{0}a_{1}b_{1}a_{2}b_{2}\ldots\right)_{10}\\
> x=\left(0.\ x_{0}x_{1}x\ldots\right)_{10}&\to ((0.\ x_{0}x_{2}x_{4}\ldots),(0.\ x_{1}x_{3}x_{5}\ldots))
> \end{aligned}
> $$



### links

- wikipedia: cardinal numbers
- wikipedia: cardinality of the continuum
- wikipedia: space filling curve


## Cantor's theorem

> Show that $|A|<|\rho(A)|$ where $\rho(A)$ is the powerset of $A$ i.e. $\rho(A)=\{B\mid B\subseteq A\}$.  

1. $|A|\leq |\rho(A)|$

Let $f:A\to \rho(A)$ where $f(x)=\{x\}$.  
$x\neq y\implies \{x\}\neq \{y\}$.  
A injective function from $A$ to $\rho(A)$ exists so $|A|\leq |\rho(A)|$

2. $|A|\neq |\rho(A)|$

Suppose that $|A|=|\rho(A)|$,
by definition, exists a function $f:A\to \rho(A)$ s.t. $f$ is bijective.  
Let $S=\{x\mid x\not\in f(x)\}$ and $s=f^{-1}(S)$.

- if $s\in S$, then $s\not \in f(s)=f(f^{-1}(S))=S$
- if $s\not \in S$, then $s \in f(s)=f(f^{-1}(S))=S$

contradict. Such a bijective mapping does not exist, $|A|\neq |\rho(A)|$


### links

- wikipedia: Cantor's theorem
- Russell's paradox
- quine
- the halting problem


## halting problem

> determine whether there exists a function $H$.  
> $H:\{\text{Program}\}\times \{\text{Input}\}\to \{\mathbf T,\mathbf F\}$  
> $\forall p,i\quad H(p,i)=[p(i)\text{ can be computed in finte steps}]$

Suppose that such $H$ exists.  
Let $G(x)$ be another program where `G(x) = if H(x,x) then loop else return`.  

Now consider $G(G)$  

- if $H(G,G)=\mathbf T$ (which indicates that $G(G)$ finishes in finite steps), then $G(G)$ runs forever.
- if $H(G,G)=\mathbf F$ (which indicates that $G(G)$ runs forever), then $G(G)$ finishes in finite steps.

### extra

However, some thing went wrong.

```haskell
H:: (i->o,i) -> Bool
```
then in `H x x`, we are expected to have`x::i->o,x::i`, which is wired.

Why this happens.

> 也许是计算模型不同,turing machine也许不需要"类型"这种东西,  
> 引入类型,得到的计算模型可以和turing machine等价.
> 而我认为`i->o`与`i`不同,其实是我不认可无穷递归?所以如果我认为infinte的类型不可存在,那么我的模型其实弱于turing machine?

## R and powerset N have same cardinality

> given any set non empty $A$ and a set $E$ from its powerset $S=\rho(A)$ ($E\in S$) we can define the so-called indicator function
> $$\forall E\in S\quad f_{E}:A\to \{0,1\}\ \text{where}\ f_E(x)=[x\in E]$$


1. consider this function $f$ which is injective.
$$
f:\rho(\mathbb N)\to \left[0,1\right]
\quad
f(S)=\sum_{i=0}^\infty \frac{[i\in S]}{2^{i+1}}
$$

2. consider this function $g$ which is injective.

Given $x\in [0,1]$, let $s={(x)}_2=(s_0,s_1,s_2\ldots)$ be its binary representation.  
let $g(x)=\{i\in \mathbb N\mid s_i=1\}$  
note: $1=0.99\ldots=0.\overline{9}$


3. therefore $|\rho(\mathbb N)|=|\mathbb R|$

### extra

what about this function $h:\rho(\mathbb N)\to \mathbb N$

$$h(S)=\sum_{i=0}^{\max(S)}[i\in S]2^i$$

for example $\{1,3,4,5\}\to {(11101)}_2$.  
Can we say that this gives a injective function from $\rho(\mathbb N)$ to $\mathbb N$,
resulting in $|\rho(\mathbb N)|\leq \mathbb N$

**DEFINITELY NOT!**   

$h$ is even not a member of $\{\rho(\mathbb N)\to \mathbb N\}$,
if it is, then what is the image of $\mathbb N$?  

Here's the difference in $h$ and $f$
- $f(\mathbb N)=\sum_{i=0}^\infty \frac{1}{2^{i+1}}=1$
- for $h$, since there $\max(\mathbb N)$ is not well defined, $h(\mathbb N)$ is not defined.


## quotient of integers are countable.

$$
\begin{matrix}
&\frac{1}{1}&\frac{2}{1}&\frac{3}{1}&\dots\\[.3em]
&\frac{1}{2}&\frac{2}{2}&\frac{3}{2}&\dots\\[.3em]
&\frac{1}{3}&\frac{2}{3}&\frac{3}{3}&\dots\\[.3em]
&\frac{1}{4}&\frac{2}{4}&\frac{3}{4}&\dots\\[.3em]
\end{matrix}
$$

```cpp
s={}
index=0
mapping={}
for i in [2..]{
	for j in [1..i-1]{
		auto f=Fraction(j,i-j)
		if f not in s{
			s.insert(f)
			mapping[f]=index++
		}
	}
}
```

## $\{0,1\}^\mathbb{N}$ is uncountable

$S=\{a_n=\{a_0,a_1,a_2\ldots a_k\ldots \}\mid k\in \mathbb N\land (\forall i\ a_i\!\in\!\{0,1\})\}$


Suppose it is countable, then there is a bijection between $\{0,1\}^{\mathbb N}$ and $\mathbb N$

```
f(0)={ a[0,0] a[0,1] a[0,2] ... }
f(1)={ a[1,0] a[1,1] a[1,2] ... }
f(2)={ a[2,0] a[2,1] a[2,2] ... }
f(3)={ a[3,0] a[3,1] a[3,2] ... }
...
.
.
```

Then what is the preimage of `x={ flip(a[0,0]) flip(a[1,1]) flip(a[2,2]) filp(a[3,3]) ... }`?  
It turns out that `x` has no preimage, if not, let `k=inverse_f(x)`, however `x[k]=flip(a[k,k]), f(k)[k]=a[k,k]`.  
Thus such bijective does not exists, $|\{0,1\}^{\mathbb N}| > |\mathbb N|$


## $|[0,1)| = |(0,1)|$ closed inteerval and open interval

- $|(0,1)|\leq |\left[\left.0,1\right)\right.|$
$$
f:(0,1)\to \left[\left.0,1\right)\right.
\quad \text{where} \quad
f(x)=x
$$
is injective, so $|(0,1)|\leq |\left[\left.0,1\right)\right.|$

- $|(0,1)|\geq |\left[\left.0,1\right)\right.|$

Consider $a_n=\{1=2^{-0},2^{-1}\ldots\}=\{2^{-n}\mid n\in \mathbb{N}\}$

$$
g:\left[\left.0,1\right)\right. \to (0,1)
\quad \text{where} \quad
g(x)=\begin{cases}
\frac{x}{2} & x\in \{a_n\}\\
x & x\not\in \{a_n\}
\end{cases}
$$

> that is do the replacement $a_0\to a_1,\ a_1\to a_2\ldots$


## commonly used bijective counting for combination

> Given $n,k$ count subset of $[n]$ which satisfies the following constraints.  
> - $|S|=r$
> - $S=\{x_1,x_2\ldots x_r\}\quad x_1<x_2<x_3\ldots x_r$
> - $x_{i+1}-x_i>k$


$x_3-x_2>k,x_2-x_1>k\implies x_3-x-1>2k$  
and the gerneral case.

$$
\begin{cases}
&x_2-x_1>k\\
&x_3-x_2>k\\
&x_4-x_3>k\\
&\vdots\\
&x_r-x_{r-1}>k
\end{cases}
\iff
\begin{cases}
&x_2-x_1>k\\
&x_3-x_1>2k\\
&x_4-x_1>k\\
&\vdots\\
&x_r-x_1>(r-1)k
\end{cases}
$$


Consider the mapping $f$

$$
\begin{aligned}
\{x_1,x_2,x_3\ldots x_r\}\to
y&=\{y_1,y_2,y_3\ldots y_r\}\\
 &=\{x_1,x_2-k,x_3-2k\ldots x_r-(r-1)k\}
\end{aligned}
$$


> maps 
> - $|S|=r$
> - $S=\{x_1,x_2\ldots x_r\}$
> - $1\leq x_1<x_2<x_3\ldots x_r\leq n$
> - $x_{i+1}-x_i>k$
> 
> to  
> - $|T|=r$
> - $T=\{y_1,y_2\ldots y_r\}$
> - $1\leq y_1<y_2<y_3\ldots y_r\leq n-(r-1)k$
> 
> which is a $r$ combination of $[n-(r-1)k]$


and we can show that $f$ is bijective (injective and surjective). 

$\text{ANS}=\binom{n-(r-1)k}{r}$

### remark

quite hard without the bijection,  
generating function method doesn't fit.

## recurrence relationship of partition numbers

> $$p_k(n)=\left\vert\left\{ (a_1,a_2,a_3\ldots a_k)\mid \sum_i a_i=\!n\land \forall i\,a_i\!>\!0\land \forall i\, a_i\leq a_{i+1} \right\} \right\vert$$


theorem: $n\geq k\implies p_k(n+k)=\sum_{j=1}^k p_j(n)$

Let $S_i=\{(0\leq x_1\leq x_2\ldots x_{i-1}\leq x_i)\mid \land \sum_{j\leq i} x_j=n\}$ for $i=1,2\ldots k$  
and $T=\{(0\leq x_1\leq x_2\ldots x_{k-1}\leq x_k)\mid \land \sum_{j\leq k} x_j=n+k\}$  

where $S_1,S_2\ldots S_k$ are disjoint.

$$
f:\bigcup_{i=1}^k S_i\to T
\quad 
(x_1,x_2\ldots x_i)\to (x_1+1,x_2+1\ldots x_i+1,\ \overbrace{1,1\ldots 1}^{k-i})
$$

we can show that this mapping is bijective. Thus 
$\sum_{i=1}^k p_i(n)=p_k(n+k)$

## Bell(set partition) numbers

### approach 1 

> for $k=1,2,3\ldots n$, partition $A=\{1,2\ldots n\}$ into $k$ non-empty sets
> $$
> \begin{aligned}
> &\sum_{\begin{subarray}{c} a_1+a_2\ldots a_k=n\\ a_1,a_2\ldots a_k>0\end{subarray}}
> \frac{1}{k!}\binom{n}{a_1}\binom{n-a_1}{a_2}\ldots \binom{a_k}{a_k}
> =\sum_{\begin{subarray}{c} a_1+a_2\ldots a_k=n\\ a_1,a_2\ldots a_k>0\end{subarray}}
> \frac{1}{k!}\frac{n!}{\prod_{i=1}^k (a_i!)}\\
> =&n!\frac{1}{k!}\sum_{\begin{subarray}{c} a_1+a_2\ldots a_k=n\\ a_1,a_2\ldots a_k>0\end{subarray}}
> \frac{1!}{\prod_{i=1}^k (a_i!)}\\
> =&n!\frac{1}{k!}[x^n]{\left(\sum_{i=1}^\infty \frac{x^i}{i!}\right)}^k
> =n!\frac{1}{k!}[x^n]{\left(\sum_{i=0}^\infty \frac{x^i}{i!}\right)-1}^k\\
> =&n!\frac{1}{k!}[x^n]{(e^x-1)}^k\\
> \end{aligned}
> $$
> take the summation

$$
\sum_n\frac{B_n}{n!}x^n
=1+\sum_{n=1}^\infty \frac{{(\sum_{i=1}^\infty \frac{x^i}{i!})}^n}{n!}
=\sum_{n=0}^\infty \frac{{(\sum_{i=1}^\infty \frac{x^i}{i!})}^n}{n!}
=\exp(e^x-1)
$$

### approach 2

> partition $A$ into $\{A_1,A_2\ldots \}$ s.t. $1\in A_1\land |A_1|=k$
> $$B_n=\sum_{k=1}^n\binom{n-1}{k-1}B_{n-k}\implies \frac{B_n}{n!}=\sum_{k=1}^n \frac{1}{n}\frac{1}{(k-1)!}\frac{B_{n-k}}{(n-k)!}$$

$$
\begin{aligned}
F(x)
&=\sum_{n=0}^\infty \frac{B_n}{n!}x^n
=1+\sum_{n=1}^\infty \sum_{k=1}^n \frac{x^n}{n}\frac{1}{(k-1)!}\frac{B_{n-k}}{(n-k)!}\\
F'(x)
&=\sum_{n=1}^\infty \sum_{k=1}^n \frac{x^{k-1}}{(k-1)!}\, \frac{B_{n-k}}{(n-k)!}x^{n-k}\\
&=\sum_{n=1}^\infty \sum_{k=0}^{n-1} \frac{x^k}{k!}\, \frac{B_{n-k-1}}{(n-k-1)!}x^{n-k-1}\\
&=\sum_{n=0}^\infty \sum_{k=0}^n \frac{x^k}{k!}\, \frac{B_{n-k}}{(n-k)!}x^{n-k}\\
&=F(x)e^x
\end{aligned}
$$

now that $F'(x)=e^xF(x)$ and $F(0)=\frac{B_0}{0!}=1$, we can solve the ODE getting $F(x)=\exp(e^x-1)$


## pigeonhole principle

> Def: Cover of a set.  
> Given a set $A$, a family $\{A_1,A_2\ldots A_k\}$ s.t. $\forall i\ A_i\subseteq A,\ \bigcup_i A_i=A$ is called a cover of $A$.  
> (Unlike a **partition**, here, we do not require no-overlaping i.e. $i\neq j\to A_i\cap A_j=0$)  
> There is at least a set $A_k$ s.t. $|A_k|\geq \left\lceil\frac{|A|}{k}\right\rceil

PF: Suppose that $\forall i\ |A_i| \leq \left\lceil\frac{|A|}{k}\right\rceil -1$.  
Then $\sum_i |A_i|\leq k\left(\left\lceil\dfrac{|A|}{k}\right\rceil -1\right)<k\left(\frac{|A|}{k}+1-1\right)=|A|$.  
However $\bigcup_i A_i=A\implies \sum_i |A_i|\geq |\bigcup_i A_i|=|A|$.  
We reached a contradictory conclusion, so the assumption that 
$\forall i\ |A_i| < \left\lceil\frac{|A|}{k}\right\rceil$ is false.  
Thus, there exists a set $A_k$ s.t. $|A_k|\geq \left\lceil\frac{|A|}{k}\right\rceil$

### example 1

> Let $n$ be an positive integer, and $A\subseteq \{1,2,3\ldots 2n\}$ such that $|A|=n+1$.  
> Show that $\exists x,y\in A\text{ s.t. }x\mid y$

Suppose that $A=\{a_1,a_2\ldots a_m\}$ where $a_1<a_2<a_3\ldots a_m$  
Let $f(p)=\max\{d: 2^d\mid p\},\ g(p)=2^{-f(p)} p$,
and $A_{k}=\{x\in A\mid g(x)=2k-1\}$ for $k=1,2,3\ldots n$  
Applying the pigeonhole principle, there is a $A_k$ such that $|A_k|\geq 2$. Let $x,y$ be two distinct elements in $A_k$,  
$x=2^{p_1}(2k-1),y=2^{p_2}(2k-1)$ so we can expect to get either $x\mid y$ or $y\mid x$.


### example 2
> There are 15 workstations $W=\{w_1,w_2\ldots w_{15}\}$ and 10 servers $S=\{s_1,s_2\ldots s_{10}\}$.  
> A cable can connect a workstation to a server.  
> 
> Find a way to connect the workstations and servers denoted $E$.  
> Let $f:\rho(W)\to \rho(S)\quad f(W_0)\{s_i\mid \exists w_j\in W_0\land (w_j,s_i)\in E\}$.  
> That makes $\forall W_0\subseteq W\ (|W_0|\geq 10\to F(W_0)=S)$ a true statement.


{{TODO}}: solution


### example 3

> Let $\{S_1,S_2,S_3,S_4\}$ be a partition of $\{1,2, \ldots  67\}$.  
> Show that one of $S_1,S_2,S_3,S_4$  
> must contain $x,y,z$ such that $z=x−y$

{{TODO}}: proof


### example 4

> Show that for every integer $n$ there is a multiple of $n$ that has only 0 and 1 in its decimal representation.

Suppose that such multiple does not exist, consider $a_k=\frac{10^k-1}{9}={(\, \overbrace{11\ldots 1\, }^{k})}_{10}$ for $k=1,2,3\ldots n$  
Since $a_k$ contains only 1, they is no multiple of $n$ among them.  
Let $b_k=a_k\bmod n$, we should have $b_k\neq 0$, so there is only $n-1$ possible value for $b_k$.  
Therefore $\exists i,j\ a_i\equiv a_j\bmod n$ so $n\mid (a_i-a_j)$ which contains only 0,1 in its decimal representation.  
Hence, there should be a multiple of $n$ that consists of only 0 and 1.

## LHRR(linear homogeneous recurrence relation), the generatingfunctionological way

We can solve LHRRs by linear-ODE,OGF,EGF

> Def: $k$-th degree LRR
> $\forall n\!>\!k\quad a_{n}=f(n)+\sum_{i=1}^k a_{n-i}c_i$  
> And the homogeneous LRR $\forall n\!>\!k\quad a_{n}=\sum_{i=1}^k a_{n-i}c_i$  

### using OGF

$$
\begin{aligned}
F(x)
&=\sum_{n=0}^\infty a_n x^n\\
\left(\sum_{i=1}^k c_i x^i\right) F(x)
&=\sum_{n=0}^\infty x^n \sum_{i=1}^{\min(k,n)} c_i a_{n-i}\\
&=\sum_{n=1}^{k-1} x^n \sum_{i=1}^n c_i a_{n-i}+\sum_{n\geq k} a_n x^n\\
&=F(x) - \sum_{n=0}^{k-1} a_n x^n + \sum_{n=1}^{k-1} x^n \sum_{i=1}^n c_i a_{n-i}\\
\left(1+\sum_{i=1}^k c_i x^i\right) F(x)
&=-a_0+\sum_{n=1}^{k-1}x^n\left(-a_n+\sum_{i=1}^n c_i a_{n-i}\right)\\
\implies F(x)
&={\left(1+\sum_{i=1}^k c_i x^i\right)}^{-1}\left(-a_0+\sum_{n=1}^{k-1} x^n \left(-a_n+\sum_{i=1}^n c_i a_{n-i}\right)\right)
\end{aligned}
$$


### using EGF

$$
\begin{aligned}
G(x)
&=\sum_{n=0}^\infty a_n \frac{x^n}{n!}\\
\sum_{i=0}^{k-1} c_{k-i}\frac{\mathrm{d}^i\, G(x)}{\mathrm{d}\, x^i}
&=\sum_{i=0}^{k-1} c_{k-i} \sum_{n=0}^\infty \frac{a_{n+i}}{n!}x^n\\
&=\sum_{n=0}^\infty \frac{x^n}{n!} \sum_{i=0}^{k-1} c_{k-i} a_{n+i}\\
&=\sum_{n=0}^\infty \frac{x^n}{n!} a_{n+k}\\
&=\frac{\mathrm{d}^k\, G(x)}{\mathrm{d}\, x^k}
\end{aligned}
$$

To solve $\sum_{i=0}^{k-1} c_{k-i} y^{(i)}=y^{k}$, 
consider $\sum_{i=0}^{k-1} c_{k-i} \lambda^i=\lambda^k$  
We can find $G(x)$ in the solution space i.e. $\mathrm{span}(e^{\lambda_1 x},e^{\lambda_2 x}\ldots e^{\lambda_k x} )$
